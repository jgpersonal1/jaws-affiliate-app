{"ast":null,"code":"// frontend/src/services/api.ts\nimport axios from \"axios\";\n\n// âœ… Fallback lists (same items used in AmazonLinks.tsx and EbayLinks.tsx)\n\nconst amazonFallbackItems = [{\n  asin: \"B098HPPDYK\",\n  title: \"Jaws Amity Island Sours Candy Tin\",\n  image: \"https://m.media-amazon.com/images/I/81A7r9cKVEL._AC_SL1500_.jpg\",\n  url: \"https://www.amazon.com/dp/B098HPPDYK/?tag=jawsmovie1975-20\"\n}, {\n  asin: \"B0D5CN8X7R\",\n  title: \"Jaws 50th Anniversary 4K Ultra HD + Blu-ray + Digital\",\n  image: \"https://m.media-amazon.com/images/I/71S3qf6Z45L._AC_SL1500_.jpg\",\n  url: \"https://www.amazon.com/dp/B0D5CN8X7R/?tag=jawsmovie1975-20\"\n}\n// ... (add the rest of your 10 Amazon items here)\n];\nconst ebayFallbackItems = [{\n  id: \"127341180897\",\n  title: \"Jaws 50th Anniversary Plush Shark w/ 50 Barrel Collectible\",\n  image: \"https://i.ebayimg.com/images/g/PlushShark50.jpg\",\n  url: \"https://www.ebay.com/itm/127341180897?campid=5339130190\"\n}, {\n  id: \"336109578611\",\n  title: \"Jaws 50th Anniversary Limited Edition 4K Steelbook NEW\",\n  image: \"https://i.ebayimg.com/images/g/Steelbook50.jpg\",\n  url: \"https://www.ebay.com/itm/336109578611?campid=5339130190\"\n}\n// ... (add the rest of your 10 eBay items here)\n];\nexport async function fetchProducts(source, query, limit) {\n  try {\n    // ðŸ‘‡ adjust URL if you have a backend API endpoint\n    const response = await axios.get(`/api/search?source=${source}&q=${query}&limit=${limit}`);\n    const data = response.data || [];\n    if (Array.isArray(data) && data.length > 0) {\n      return data.slice(0, limit);\n    }\n\n    // if empty, return fallback\n    return source === \"amazon\" ? amazonFallbackItems.slice(0, limit) : ebayFallbackItems.slice(0, limit);\n  } catch (error) {\n    console.error(`Error fetching ${source} products:`, error);\n\n    // On any failure, use fallback\n    return source === \"amazon\" ? amazonFallbackItems.slice(0, limit) : ebayFallbackItems.slice(0, limit);\n  }\n}","map":{"version":3,"names":["axios","amazonFallbackItems","asin","title","image","url","ebayFallbackItems","id","fetchProducts","source","query","limit","response","get","data","Array","isArray","length","slice","error","console"],"sources":["/Users/jakegove/Cursor/jaws-affiliate-app/frontend/src/services/api.ts"],"sourcesContent":["// frontend/src/services/api.ts\nimport axios from \"axios\";\n\n// âœ… Fallback lists (same items used in AmazonLinks.tsx and EbayLinks.tsx)\n\nconst amazonFallbackItems = [\n  {\n    asin: \"B098HPPDYK\",\n    title: \"Jaws Amity Island Sours Candy Tin\",\n    image: \"https://m.media-amazon.com/images/I/81A7r9cKVEL._AC_SL1500_.jpg\",\n    url: \"https://www.amazon.com/dp/B098HPPDYK/?tag=jawsmovie1975-20\",\n  },\n  {\n    asin: \"B0D5CN8X7R\",\n    title: \"Jaws 50th Anniversary 4K Ultra HD + Blu-ray + Digital\",\n    image: \"https://m.media-amazon.com/images/I/71S3qf6Z45L._AC_SL1500_.jpg\",\n    url: \"https://www.amazon.com/dp/B0D5CN8X7R/?tag=jawsmovie1975-20\",\n  },\n  // ... (add the rest of your 10 Amazon items here)\n];\n\nconst ebayFallbackItems = [\n  {\n    id: \"127341180897\",\n    title: \"Jaws 50th Anniversary Plush Shark w/ 50 Barrel Collectible\",\n    image: \"https://i.ebayimg.com/images/g/PlushShark50.jpg\",\n    url: \"https://www.ebay.com/itm/127341180897?campid=5339130190\",\n  },\n  {\n    id: \"336109578611\",\n    title: \"Jaws 50th Anniversary Limited Edition 4K Steelbook NEW\",\n    image: \"https://i.ebayimg.com/images/g/Steelbook50.jpg\",\n    url: \"https://www.ebay.com/itm/336109578611?campid=5339130190\",\n  },\n  // ... (add the rest of your 10 eBay items here)\n];\n\n\nexport async function fetchProducts(source: \"amazon\" | \"ebay\", query: string, limit: number) {\n  try {\n    // ðŸ‘‡ adjust URL if you have a backend API endpoint\n    const response = await axios.get(`/api/search?source=${source}&q=${query}&limit=${limit}`);\n    const data = response.data || [];\n\n    if (Array.isArray(data) && data.length > 0) {\n      return data.slice(0, limit);\n    }\n\n    // if empty, return fallback\n    return source === \"amazon\"\n      ? amazonFallbackItems.slice(0, limit)\n      : ebayFallbackItems.slice(0, limit);\n  } catch (error) {\n    console.error(`Error fetching ${source} products:`, error);\n\n    // On any failure, use fallback\n    return source === \"amazon\"\n      ? amazonFallbackItems.slice(0, limit)\n      : ebayFallbackItems.slice(0, limit);\n  }\n}\n"],"mappings":"AAAA;AACA,OAAOA,KAAK,MAAM,OAAO;;AAEzB;;AAEA,MAAMC,mBAAmB,GAAG,CAC1B;EACEC,IAAI,EAAE,YAAY;EAClBC,KAAK,EAAE,mCAAmC;EAC1CC,KAAK,EAAE,iEAAiE;EACxEC,GAAG,EAAE;AACP,CAAC,EACD;EACEH,IAAI,EAAE,YAAY;EAClBC,KAAK,EAAE,uDAAuD;EAC9DC,KAAK,EAAE,iEAAiE;EACxEC,GAAG,EAAE;AACP;AACA;AAAA,CACD;AAED,MAAMC,iBAAiB,GAAG,CACxB;EACEC,EAAE,EAAE,cAAc;EAClBJ,KAAK,EAAE,4DAA4D;EACnEC,KAAK,EAAE,iDAAiD;EACxDC,GAAG,EAAE;AACP,CAAC,EACD;EACEE,EAAE,EAAE,cAAc;EAClBJ,KAAK,EAAE,wDAAwD;EAC/DC,KAAK,EAAE,gDAAgD;EACvDC,GAAG,EAAE;AACP;AACA;AAAA,CACD;AAGD,OAAO,eAAeG,aAAaA,CAACC,MAAyB,EAAEC,KAAa,EAAEC,KAAa,EAAE;EAC3F,IAAI;IACF;IACA,MAAMC,QAAQ,GAAG,MAAMZ,KAAK,CAACa,GAAG,CAAC,sBAAsBJ,MAAM,MAAMC,KAAK,UAAUC,KAAK,EAAE,CAAC;IAC1F,MAAMG,IAAI,GAAGF,QAAQ,CAACE,IAAI,IAAI,EAAE;IAEhC,IAAIC,KAAK,CAACC,OAAO,CAACF,IAAI,CAAC,IAAIA,IAAI,CAACG,MAAM,GAAG,CAAC,EAAE;MAC1C,OAAOH,IAAI,CAACI,KAAK,CAAC,CAAC,EAAEP,KAAK,CAAC;IAC7B;;IAEA;IACA,OAAOF,MAAM,KAAK,QAAQ,GACtBR,mBAAmB,CAACiB,KAAK,CAAC,CAAC,EAAEP,KAAK,CAAC,GACnCL,iBAAiB,CAACY,KAAK,CAAC,CAAC,EAAEP,KAAK,CAAC;EACvC,CAAC,CAAC,OAAOQ,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,kBAAkBV,MAAM,YAAY,EAAEU,KAAK,CAAC;;IAE1D;IACA,OAAOV,MAAM,KAAK,QAAQ,GACtBR,mBAAmB,CAACiB,KAAK,CAAC,CAAC,EAAEP,KAAK,CAAC,GACnCL,iBAAiB,CAACY,KAAK,CAAC,CAAC,EAAEP,KAAK,CAAC;EACvC;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}