{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{fetchProducts}from\"./services/api\";import{ProductList}from\"./components/ProductList\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[amazonLimit,setAmazonLimit]=useState(()=>parseInt(localStorage.getItem(\"amazonLimit\")||\"8\",10));const[ebayLimit,setEbayLimit]=useState(()=>parseInt(localStorage.getItem(\"ebayLimit\")||\"8\",10));const[amazonItems,setAmazonItems]=useState([]);const[ebayItems,setEbayItems]=useState([]);const[loading,setLoading]=useState(false);useEffect(()=>{load();// eslint-disable-next-line\n},[amazonLimit,ebayLimit]);async function load(){setLoading(true);try{const[a,e]=await Promise.all([fetchProducts(\"amazon\",\"jaws\",amazonLimit),fetchProducts(\"ebay\",\"jaws\",ebayLimit)]);setAmazonItems(a);setEbayItems(e);}catch(err){console.error(err);}finally{setLoading(false);}}function saveSettings(){localStorage.setItem(\"amazonLimit\",String(amazonLimit));localStorage.setItem(\"ebayLimit\",String(ebayLimit));load();}return/*#__PURE__*/_jsxs(\"div\",{style:{maxWidth:1100,margin:\"20px auto\",padding:12},children:[/*#__PURE__*/_jsx(\"h1\",{children:\"JAWS Merchandise (Affiliate)\"}),/*#__PURE__*/_jsxs(\"section\",{style:{marginBottom:20},children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Settings\"}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Amazon listings:\",/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:1,max:50,value:amazonLimit,onChange:e=>setAmazonLimit(parseInt(e.target.value||\"1\",10))})]}),/*#__PURE__*/_jsxs(\"label\",{style:{marginLeft:12},children:[\"eBay listings:\",/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:1,max:50,value:ebayLimit,onChange:e=>setEbayLimit(parseInt(e.target.value||\"1\",10))})]}),/*#__PURE__*/_jsx(\"button\",{onClick:saveSettings,style:{marginLeft:12},children:\"Save\"})]}),/*#__PURE__*/_jsxs(\"section\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Amazon \\u2014 Most Popular\"}),loading?/*#__PURE__*/_jsx(\"div\",{children:\"Loading\\u2026\"}):/*#__PURE__*/_jsx(ProductList,{items:amazonItems})]}),/*#__PURE__*/_jsxs(\"section\",{style:{marginTop:30},children:[/*#__PURE__*/_jsx(\"h2\",{children:\"eBay \\u2014 Most Popular\"}),loading?/*#__PURE__*/_jsx(\"div\",{children:\"Loading\\u2026\"}):/*#__PURE__*/_jsx(ProductList,{items:ebayItems})]}),/*#__PURE__*/_jsx(\"footer\",{style:{marginTop:20,fontSize:12,color:\"#666\"},children:\"We may earn a commission from links on this page.\"})]});}export default App;","map":{"version":3,"names":["React","useEffect","useState","fetchProducts","ProductList","jsx","_jsx","jsxs","_jsxs","App","amazonLimit","setAmazonLimit","parseInt","localStorage","getItem","ebayLimit","setEbayLimit","amazonItems","setAmazonItems","ebayItems","setEbayItems","loading","setLoading","load","a","e","Promise","all","err","console","error","saveSettings","setItem","String","style","maxWidth","margin","padding","children","marginBottom","type","min","max","value","onChange","target","marginLeft","onClick","items","marginTop","fontSize","color"],"sources":["/Users/jakegove/Cursor/jaws-affiliate-app/frontend/src/App.tsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { fetchProducts } from \"./services/api\";\nimport { ProductList } from \"./components/ProductList\";\n\nfunction App() {\n  const [amazonLimit, setAmazonLimit] = useState<number>(() => parseInt(localStorage.getItem(\"amazonLimit\") || \"8\", 10));\n  const [ebayLimit, setEbayLimit] = useState<number>(() => parseInt(localStorage.getItem(\"ebayLimit\") || \"8\", 10));\n  const [amazonItems, setAmazonItems] = useState<any[]>([]);\n  const [ebayItems, setEbayItems] = useState<any[]>([]);\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    load();\n    // eslint-disable-next-line\n  }, [amazonLimit, ebayLimit]);\n\n  async function load() {\n    setLoading(true);\n    try {\n      const [a, e] = await Promise.all([\n        fetchProducts(\"amazon\",\"jaws\",amazonLimit),\n        fetchProducts(\"ebay\",\"jaws\",ebayLimit)\n      ]);\n      setAmazonItems(a);\n      setEbayItems(e);\n    } catch (err) {\n      console.error(err);\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  function saveSettings() {\n    localStorage.setItem(\"amazonLimit\", String(amazonLimit));\n    localStorage.setItem(\"ebayLimit\", String(ebayLimit));\n    load();\n  }\n\n  return (\n    <div style={{maxWidth:1100, margin:\"20px auto\", padding:12}}>\n      <h1>JAWS Merchandise (Affiliate)</h1>\n\n      <section style={{marginBottom:20}}>\n        <h2>Settings</h2>\n        <label>\n          Amazon listings:\n          <input type=\"number\" min={1} max={50} value={amazonLimit} onChange={e=>setAmazonLimit(parseInt(e.target.value||\"1\",10))} />\n        </label>\n        <label style={{marginLeft:12}}>\n          eBay listings:\n          <input type=\"number\" min={1} max={50} value={ebayLimit} onChange={e=>setEbayLimit(parseInt(e.target.value||\"1\",10))} />\n        </label>\n        <button onClick={saveSettings} style={{marginLeft:12}}>Save</button>\n      </section>\n\n      <section>\n        <h2>Amazon — Most Popular</h2>\n        {loading ? <div>Loading…</div> : <ProductList items={amazonItems} />}\n      </section>\n\n      <section style={{marginTop:30}}>\n        <h2>eBay — Most Popular</h2>\n        {loading ? <div>Loading…</div> : <ProductList items={ebayItems} />}\n      </section>\n\n      <footer style={{marginTop:20, fontSize:12, color:\"#666\"}}>\n        We may earn a commission from links on this page.\n      </footer>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}